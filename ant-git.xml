<?xml version="1.0"?>
<project name="Demo" default="version" basedir=".">
	
	<macrodef name="git">
		<attribute name="command" />
		<attribute name="dir" default="" />
		<attribute name="name" default="" />
		<element name="args" optional="true" />
		<sequential>
			<echo message="git @{command}" />
			<exec executable="git" dir="@{dir}">
				<arg value="@{command}" />
				<args/>
			</exec>
		</sequential>
	</macrodef>



 
	<target name="version" description="Creating a tag">
		<input message="Tag name" addproperty="tag-name" />
		
		
		<echo message="Tag name is ${tag-name}" />
		
		<git command="tag">
			<args>
				<arg value="-d" />
				<arg value="homework_5" />
			</args>
		</git>
		
		<git command="tag">
			<args>
				<arg value="-a" />
				<arg value="homework_4" />
				<arg value="-m" />
				<arg value="${tag-name}" />
			</args>
		</git>
		
		<git command="init">

		</git>
		
	
		
		<git command="config">
			<args>
				<arg value="--global" />
				<arg value="push.default" />
				<arg value="simple" />
			</args>
			
		</git>
		
		<git command="remote">
			<args>
				<arg value="-v" />
			</args>
			
		</git>
		
		<git command="remote">
			<args>
				<arg value="remove" />
				<arg value="origin" />
			</args>
			
		</git>
		
		<git command="remote">
			<args>
				<arg value="add" />
				<arg value="origin" />
				<arg value="http://github.com/Jaga007/testikene.git" />
			</args>
			
		</git>
		
		
		<git command="push">
			<args>
				<arg value="--tags" />
			</args>
			
		</git>
			
		
	</target>
</project>

 
